<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tr√°i tim chuy·ªÉn ƒë·ªông + L·ªùi nh·∫Øn</title>
  <style>
    /* Reset c∆° b·∫£n */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,#ffeef0,#fff7f9);
      font-family:system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
      color:#2b2b2b;
      padding:20px;
    }

    /* Khung ch√≠nh */
    .card{
      width:360px;max-width:95vw;background:rgba(255,255,255,0.8);
      border-radius:18px;padding:20px;box-shadow:0 8px 30px rgba(0,0,0,0.08);
      text-align:center;
    }

    /* Tr√°i tim CSS */
    .heart-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
    .heart{
      width:120px;height:120px;position:relative;transform-origin:center center;
      animation:pulse 1.6s ease-in-out infinite;
    }
    .heart:before,.heart:after{
      content:"";position:absolute;left:50%;top:20%;width:60px;height:60px;background:#ff4567;border-radius:50%;transform:translateX(-50%);
    }
    .heart:before{left:25%;}
    .heart:after{left:75%;}
    .heart > .bottom{
      position:absolute;left:0;right:0;top:40%;bottom:0;background:#ff4567;transform:rotate(45deg);border-radius:12px;transform-origin:center center;}

    /* Hi·ªáu ·ª©ng b√≥ng nh·∫π */
    .heart-shadow{width:140px;height:12px;background:rgba(0,0,0,0.08);margin-top:6px;border-radius:50%;filter:blur(6px);}

    /* Nh√£n l·ªùi nh·∫Øn */
    .message{
      min-height:56px;display:flex;align-items:center;justify-content:center;padding:0 12px;font-weight:600;letter-spacing:0.2px;
      transition:transform .45s cubic-bezier(.2,.9,.2,1),opacity .45s;opacity:1; font-size:16px;color:#3b2b2b
    }

    /* M√¥ ph·ªèng text "to ra b√© v√†o" (scale text) */
    .message.animate-in{transform:scale(1.08);opacity:0}
    .message.show{transform:scale(1);opacity:1}

    /* N√∫t */
    .controls{display:flex;gap:8px;justify-content:center;margin-top:12px}
    button{background:#ff6b88;border:none;color:white;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
    button.secondary{background:transparent;color:#ff6b88;border:2px solid rgba(255,107,136,0.18)}

    /* Nh·ªè cho m√†n h√¨nh nh·ªè */
    @media (max-width:400px){.heart{width:100px;height:100px}.card{padding:16px}}

    /* Keyframes: tr√°i tim ph·ªìng l√™n thu nh·ªè */
    @keyframes pulse{
      0%{transform:scale(1)}
      25%{transform:scale(1.06)}
      50%{transform:scale(0.95)}
      75%{transform:scale(1.03)}
      100%{transform:scale(1)}
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="heart-wrap">
      <div class="heart" id="heart" aria-hidden="true">
        <div class="bottom"></div>
      </div>
      <div class="heart-shadow"></div>
    </div>

    <div class="message" id="message">Ch√∫c b·∫°n m·ªôt ng√†y th·∫≠t ng·ªçt ng√†o! ‚ù§Ô∏è</div>

    <div class="controls">
      <button id="prev">‚óÄÔ∏è Tr∆∞·ªõc</button>
      <button id="pause">‚è∏Ô∏è T·∫°m d·ª´ng</button>
      <button id="next">Sau ‚ñ∂Ô∏è</button>
    </div>

    <p style="margin-top:10px;font-size:12px;color:#6a6a6a">B·∫•m 'T·∫°m d·ª´ng' ƒë·ªÉ d·ª´ng chu k·ª≥. M·ªü file .html tr√™n tr√¨nh duy·ªát ƒë·ªÉ xem.</p>
  </div>

  <script>
    // D√£y c√°c l·ªùi nh·∫Øn (thay / th√™m tu·ª≥ √Ω)
    const messages = [
      'Ch√∫c b·∫°n m·ªôt ng√†y th·∫≠t ng·ªçt ng√†o! ‚ù§Ô∏è',
      'G·ª≠i y√™u th∆∞∆°ng ƒë·∫øn b·∫°n - lu√¥n m·ªâm c∆∞·ªùi nh√© üòä',
      'Hy v·ªçng h√¥m nay b·∫°n g·∫∑p to√†n ƒëi·ªÅu may m·∫Øn üåü',
      'C·∫£m ∆°n v√¨ b·∫°n ƒë√£ hi·ªán di·ªán trong cu·ªôc s·ªëng n√†y üíï',
      'M·ªôt c√°i √¥m ·∫£o d√†nh cho b·∫°n ü§ó',
      'Ch√∫c ng√†y 20/10 vui v·∫ª v√† √Ω nghƒ©a! üéâ'
    ];

    // C√†i ƒë·∫∑t
    const intervalMs = 2500; // th·ªùi gian cho m·ªói l·ªùi nh·∫Øn (ms)

    // Tham chi·∫øu ph·∫ßn t·ª≠
    const msgEl = document.getElementById('message');
    const heartEl = document.getElementById('heart');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const pauseBtn = document.getElementById('pause');

    let idx = 0;
    let timer = null;
    let running = true;

    function showMessage(i){
      // Hi·ªáu ·ª©ng thu/ph√≥ng ch·ªØ
      msgEl.classList.remove('show');
      // Th√™m class animate-in ƒë·ªÉ scale nh·ªè tr∆∞·ªõc khi hi·ªán
      msgEl.classList.add('animate-in');
      // T·∫°m delay ƒë·ªÉ trigger transition
      setTimeout(()=>{
        msgEl.textContent = messages[i];
        // khi ƒë·ªïi n·ªôi dung, ph·ªìng l·ªõn -> r·ªìi v·ªÅ k√≠ch th∆∞·ªõc b√¨nh th∆∞·ªùng nh·ªù class show
        msgEl.classList.remove('animate-in');
        msgEl.classList.add('show');
        // ƒê·ªìng th·ªùi l√†m tr√°i tim nh·∫£y 1 nh·ªãp b·∫±ng t·∫°m t·∫Øt v√† b·∫≠t l·∫°i animation
        heartEl.style.animation = 'none';
        // forcer reflow
        void heartEl.offsetWidth;
        heartEl.style.animation = '';
      },120);
    }

    function next(){
      idx = (idx + 1) % messages.length;
      showMessage(idx);
    }
    function prev(){
      idx = (idx - 1 + messages.length) % messages.length;
      showMessage(idx);
    }

    function startTimer(){
      if(timer) clearInterval(timer);
      timer = setInterval(next, intervalMs);
      running = true;
      pauseBtn.textContent = '‚è∏Ô∏è T·∫°m d·ª´ng';
    }
    function stopTimer(){
      if(timer) clearInterval(timer);
      timer = null; running = false;
      pauseBtn.textContent = '‚ñ∂Ô∏è Ti·∫øp t·ª•c';
    }

    // N√∫t b·∫•m
    prevBtn.addEventListener('click', ()=>{ prev(); if(running){stopTimer(); startTimer();} });
    nextBtn.addEventListener('click', ()=>{ next(); if(running){stopTimer(); startTimer();} });
    pauseBtn.addEventListener('click', ()=>{ running ? stopTimer() : startTimer(); });

    // B·∫Øt ƒë·∫ßu
    showMessage(0);
    startTimer();

    // T√πy ch·ªçn: nh·∫•n tr√°i tim ƒë·ªÉ t·∫°m d·ª´ng/ti·∫øp t·ª•c
    heartEl.style.cursor = 'pointer';
    heartEl.addEventListener('click', ()=>{ running ? stopTimer() : startTimer(); });

    // Cho ph√©p thay ƒë·ªïi danh s√°ch messages b·∫±ng console (debug)
    // V√≠ d·ª•: messages.push('L·ªùi nh·∫Øn m·ªõi');
  </script>
</body>
</html>